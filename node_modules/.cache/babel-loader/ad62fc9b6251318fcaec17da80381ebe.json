{"ast":null,"code":"import _asyncToGenerator from\"/Users/user/Desktop/desktop/FundMyLaptop/fund-my-laptop-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/user/Desktop/desktop/FundMyLaptop/fund-my-laptop-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/user/Desktop/desktop/FundMyLaptop/fund-my-laptop-frontend/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import{usePaystackPayment}from'react-paystack';import{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PaystackPayment(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),details=_useState2[0],setDetails=_useState2[1];useEffect(function(){var response=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var request;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/api/paystack');case 2:request=_context.sent;if(request.data){setDetails(request.data);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function response(){return _ref.apply(this,arguments);};}();response();},[details]);var amount=5000*100;var config={reference:new Date().getTime().toString(),email:'Owoeye1321@gmail.com',amount:amount,publicKey:details};// console.log(config)\n// you can call this function anything\nvar onSuccess=function onSuccess(reference){// Implementation for whatever you want to do with reference and after success call.\nwindow.location.assign('http://localhost:3000/');};// you can call this function anything\nvar onClose=function onClose(){// implementation for  whatever you want to do when the Paystack dialog closed.\nconsole.log('closed');};var PaystackHookExample=function PaystackHookExample(){var initializePayment=usePaystackPayment(config);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){initializePayment(onSuccess,onClose);},children:\"Proceed to payment\"})})});};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"App-header\"}),/*#__PURE__*/_jsx(\"div\",{style:{height:'700px',paddingTop:'350px'},children:/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(PaystackHookExample,{})})})]});}export default PaystackPayment;","map":{"version":3,"names":["React","usePaystackPayment","useEffect","useState","axios","PaystackPayment","details","setDetails","response","get","request","data","amount","config","reference","Date","getTime","toString","email","publicKey","onSuccess","window","location","assign","onClose","console","log","PaystackHookExample","initializePayment","height","paddingTop"],"sources":["/Users/user/Desktop/desktop/FundMyLaptop/fund-my-laptop-frontend/src/components/paystack.js"],"sourcesContent":["import React from 'react'\nimport { usePaystackPayment } from 'react-paystack'\nimport { useEffect, useState } from 'react'\nimport axios from 'axios'\n\nfunction PaystackPayment() {\n  const [details, setDetails] = useState('')\n\n  useEffect(() => {\n    const response = async () => {\n      const request = await axios.get('/api/paystack')\n      if (request.data) {\n        setDetails(request.data)\n      }\n    }\n    response()\n  }, [details])\n  const amount = 5000 * 100\n  const config = {\n    reference: new Date().getTime().toString(),\n    email: 'Owoeye1321@gmail.com',\n    amount: amount,\n    publicKey: details,\n  }\n  // console.log(config)\n\n  // you can call this function anything\n  const onSuccess = (reference) => {\n    // Implementation for whatever you want to do with reference and after success call.\n    window.location.assign('http://localhost:3000/')\n  }\n\n  // you can call this function anything\n  const onClose = () => {\n    // implementation for  whatever you want to do when the Paystack dialog closed.\n\n    console.log('closed')\n  }\n\n  const PaystackHookExample = () => {\n    const initializePayment = usePaystackPayment(config)\n    return (\n      <div>\n        <center>\n          <button\n            className=\"btn btn-primary\"\n            onClick={() => {\n              initializePayment(onSuccess, onClose)\n            }}\n          >\n            Proceed to payment\n          </button>\n        </center>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\"></header>\n      <div\n        style={{\n          height: '700px',\n          paddingTop: '350px',\n        }}\n      >\n        <center>\n          <PaystackHookExample />\n        </center>\n      </div>\n    </div>\n  )\n}\n\nexport default PaystackPayment\n"],"mappings":"qcAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,kBAAT,KAAmC,gBAAnC,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,QAASC,CAAAA,eAAT,EAA2B,CACzB,cAA8BF,QAAQ,CAAC,EAAD,CAAtC,wCAAOG,OAAP,eAAgBC,UAAhB,eAEAL,SAAS,CAAC,UAAM,CACd,GAAMM,CAAAA,QAAQ,0FAAG,qKACOJ,CAAAA,KAAK,CAACK,GAAN,CAAU,eAAV,CADP,QACTC,OADS,eAEf,GAAIA,OAAO,CAACC,IAAZ,CAAkB,CAChBJ,UAAU,CAACG,OAAO,CAACC,IAAT,CAAV,CACD,CAJc,sDAAH,kBAARH,CAAAA,QAAQ,0CAAd,CAMAA,QAAQ,GACT,CARQ,CAQN,CAACF,OAAD,CARM,CAAT,CASA,GAAMM,CAAAA,MAAM,CAAG,KAAO,GAAtB,CACA,GAAMC,CAAAA,MAAM,CAAG,CACbC,SAAS,CAAE,GAAIC,CAAAA,IAAJ,GAAWC,OAAX,GAAqBC,QAArB,EADE,CAEbC,KAAK,CAAE,sBAFM,CAGbN,MAAM,CAAEA,MAHK,CAIbO,SAAS,CAAEb,OAJE,CAAf,CAMA;AAEA;AACA,GAAMc,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACN,SAAD,CAAe,CAC/B;AACAO,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,wBAAvB,EACD,CAHD,CAKA;AACA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpB;AAEAC,OAAO,CAACC,GAAR,CAAY,QAAZ,EACD,CAJD,CAMA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,CAChC,GAAMC,CAAAA,iBAAiB,CAAG3B,kBAAkB,CAACY,MAAD,CAA5C,CACA,mBACE,kCACE,qCACE,eACE,SAAS,CAAC,iBADZ,CAEE,OAAO,CAAE,kBAAM,CACbe,iBAAiB,CAACR,SAAD,CAAYI,OAAZ,CAAjB,CACD,CAJH,gCADF,EADF,EADF,CAcD,CAhBD,CAkBA,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,eAAQ,SAAS,CAAC,YAAlB,EADF,cAEE,YACE,KAAK,CAAE,CACLK,MAAM,CAAE,OADH,CAELC,UAAU,CAAE,OAFP,CADT,uBAME,qCACE,KAAC,mBAAD,IADF,EANF,EAFF,GADF,CAeD,CAED,cAAezB,CAAAA,eAAf"},"metadata":{},"sourceType":"module"}