{"ast":null,"code":"import _asyncToGenerator from\"/Users/user/Desktop/desktop/FundMyLaptop/fund-my-laptop-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/Users/user/Desktop/desktop/FundMyLaptop/fund-my-laptop-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/user/Desktop/desktop/FundMyLaptop/fund-my-laptop-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/user/Desktop/desktop/FundMyLaptop/fund-my-laptop-frontend/node_modules/@babel/runtime/regenerator/index.js\";import'bootstrap/dist/css/bootstrap.min.css';import{useState,useEffect}from'react';import axios from'axios';import{motion}from'framer-motion/dist/framer-motion';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Signup(){var _useState=useState('green'),_useState2=_slicedToArray(_useState,2),color=_useState2[0],setColor=_useState2[1];var _useState3=useState({username:'',password:'',email:''}),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState('Password must be at least 8 parameters'),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var handle=function handle(e){var newData=_objectSpread({},data);newData[e.target.id]=e.target.value;setData(newData);// console.log(data);\n};var submit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return axios.post('/api/auth/signup',{data:data});case 3:result=_context.sent;console.log(result);if(!result.data)setError('Unable to process data');if(result.data.message==='success'){localStorage.setItem('accessToken',result.data.accessToken);localStorage.setItem('refreshToken',result.data.refreshToken);window.location.assign('http://localhost:3000/dashboard');}else{setError(result.data.message);}case 7:case\"end\":return _context.stop();}}},_callee);}));return function submit(_x){return _ref.apply(this,arguments);};}();useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var token;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:token=localStorage.getItem('accessToken');if(!token)console.log('Unable to get token');_context2.next=4;return axios.get('/api/read/profile',{headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)}}).then(function(result){window.location.assign('http://localhost:3000/dashboard');}).catch(function(error){window.location.assign('http://localhost:3000/login');});case 4:case\"end\":return _context2.stop();}}},_callee2);})),[]);return/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12 col-md-3 col-lg-4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-12 col-md-6 col-lg-4\",style:{padding:'150px 50px 50px 50px'},children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-3\",children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){submit(e);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return handle(e);},id:\"username\",placeholder:\"Full name\",className:\"form-control\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group mb-4\",children:/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return handle(e);},type:\"email\",placeholder:\"Email address\",id:\"email\",className:\"form-control\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group mb-2\",children:/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return handle(e);},type:\"password\",placeholder:\"password\",id:\"password\",className:\"form-control\"})}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'10px',marginBottom:'0px'},children:/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"i\",{style:{marginBottom:'-1px',color:'red'},children:error})})}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"form-control success mb-3\",value:\"Sign Up\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center mt-3 mb-0\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/login\",children:\"Sign In\"})]}),/*#__PURE__*/_jsx(\"center\",{children:\"\\xA9 2021 FUND MY LAPTOP - All Rights Reserved.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12 col-md-6 col-lg-4\"})]})});}export default Signup;","map":{"version":3,"names":["useState","useEffect","axios","motion","Signup","color","setColor","username","password","email","data","setData","error","setError","handle","e","newData","target","id","value","submit","preventDefault","post","result","console","log","message","localStorage","setItem","accessToken","refreshToken","window","location","assign","token","getItem","get","headers","Authorization","then","catch","opacity","padding","fontSize","marginBottom"],"sources":["/Users/user/Desktop/desktop/FundMyLaptop/fund-my-laptop-frontend/src/components/signup.js"],"sourcesContent":["import 'bootstrap/dist/css/bootstrap.min.css'\nimport { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { motion } from 'framer-motion/dist/framer-motion'\nfunction Signup() {\n  const [color, setColor] = useState('green')\n  const [data, setData] = useState({\n    username: '',\n    password: '',\n    email: '',\n  })\n\n  const [error, setError] = useState('Password must be at least 8 parameters')\n\n  const handle = (e) => {\n    const newData = { ...data }\n    newData[e.target.id] = e.target.value\n    setData(newData)\n    // console.log(data);\n  }\n\n  const submit = async (e) => {\n    e.preventDefault()\n    const result = await axios.post('/api/auth/signup', { data })\n    console.log(result)\n    if (!result.data) setError('Unable to process data')\n    if (result.data.message === 'success') {\n      localStorage.setItem('accessToken', result.data.accessToken)\n      localStorage.setItem('refreshToken', result.data.refreshToken)\n      window.location.assign('http://localhost:3000/dashboard')\n    } else {\n      setError(result.data.message)\n    }\n  }\n  useEffect(async () => {\n    const token = localStorage.getItem('accessToken')\n    if (!token) console.log('Unable to get token')\n    await axios\n      .get('/api/read/profile', {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then((result) => {\n        window.location.assign('http://localhost:3000/dashboard')\n      })\n      .catch((error) => {\n        window.location.assign('http://localhost:3000/login')\n      })\n  }, [])\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n    >\n      <div className=\"row\">\n        <div className=\"col-sm-12 col-md-3 col-lg-4\"></div>\n        <div\n          className=\"col-sm-12 col-md-6 col-lg-4\"\n          style={{ padding: '150px 50px 50px 50px' }}\n        >\n          <h4 className=\"mb-3\">Sign Up</h4>\n          <form\n            onSubmit={(e) => {\n              submit(e)\n            }}\n          >\n            <div className=\"form-group mb-4\">\n              <input\n                type=\"text\"\n                onChange={(e) => handle(e)}\n                id=\"username\"\n                placeholder=\"Full name\"\n                className=\"form-control\"\n              />\n            </div>\n            <div className=\"form-group mb-4\">\n              <input\n                onChange={(e) => handle(e)}\n                type=\"email\"\n                placeholder=\"Email address\"\n                id=\"email\"\n                className=\"form-control\"\n              />\n            </div>\n\n            <div className=\"form-group mb-2\">\n              <input\n                onChange={(e) => handle(e)}\n                type=\"password\"\n                placeholder=\"password\"\n                id=\"password\"\n                className=\"form-control\"\n              />\n            </div>\n            <div style={{ fontSize: '10px', marginBottom: '0px' }}>\n              <center>\n                <i style={{ marginBottom: '-1px', color: 'red' }}>{error}</i>\n              </center>\n            </div>\n            <input\n              type=\"submit\"\n              className=\"form-control success mb-3\"\n              value=\"Sign Up\"\n            />\n          </form>\n          <p className=\"text-center mt-3 mb-0\">\n            Already have an account? <a href=\"/login\">Sign In</a>\n          </p>\n          <center>Â© 2021 FUND MY LAPTOP - All Rights Reserved.</center>\n        </div>\n\n        <div className=\"col-sm-12 col-md-6 col-lg-4\"></div>\n      </div>\n    </motion.div>\n  )\n}\n\nexport default Signup\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}